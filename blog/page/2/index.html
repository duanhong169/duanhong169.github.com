
<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <title>SEGMAC</title>
  
  <meta name="description" content="《20岁，开始与别人拉开距离》笔记 2011-11-01 Tue http://book.douban.com/subject/6073215/ 人生要抢占先机，在尝试和挑战中去发现自己的理想职业。要明白：有时候只需要稍微努力一下，情况就可能完全逆转。当前的种种状况必不能代表之后的状况， &hellip;" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="stylesheet" href="/stylesheets/screen.css" />
  
  <link rel="alternate" href="/atom.xml" type="application/atom+xml" />
  
</head>

<body>
<!--[if IE]>
html,body{height:100%;overflow:hidden}
<div class="ie-go-away">My blog does not support the IE!</div>
<![endif]-->

<!-- 黑长直 -->
<nav class="black-long-straight">
  <ul>
    <li><a href="/">Home</a></li>
    <li><a href="/blog/archives">Archives</a></li>
    <li><a href="/atom.xml">RSS</a></li>
    <li><a href="http://switchable.mrzhang.me/" class="switchable" target="_blank">jQuery.Switchable</a></li>
    
    <li>
      <form action="http://google.com/search" method="get" target="_blank">
        <input type="hidden" name="q" value="site:blog.segmac.com" />
        <input type="text" name="q" class="search" placeholder="Search" x-webkit-speech />
      </form>
    </li>
    
  </ul>
</nav>

<header class="my-nickname"><em title="">弘</em></header>

<section class="main-wrap clearfix">
  
  
  
    <article>
      

<header>
  
    <h1 class="entry-title"><a href="/blog/20.html">《20岁，开始与别人拉开距离》笔记</a></h1>
  
  
    <p class="meta">
      








  


<time datetime="2011-11-01T10:35:28+08:00" pubdate="pubdate" data-updated="true">2011-11-01 Tue</time>
      

      <span class="share-to-weibo">
        <a href="javascript:void(0)" onclick="window.open('http://service.weibo.com/share/share.php?appkey=&amp;ralateUid=&amp;title=《20岁，开始与别人拉开距离》笔记 - &amp;url=http://blog.segmac.com/blog/20.html', null, 'width=615,height=505,toolbar=0,status=0')" class="sina-weibo" title="分享到新浪微博"></a>

        <a href="javascript:void(0)" onclick="window.open('http://share.v.t.qq.com/index.php?c=share&amp;a=index&amp;appkey=&amp;title=《20岁，开始与别人拉开距离》笔记 - &amp;url=http://blog.segmac.com/blog/20.html', null, 'width=700,height=680,toolbar=0,status=0')" class="tencent-weibo" title="分享到腾讯微博"></a>

        <a href="javascript:void(0)" onclick="window.open('https://twitter.com/intent/tweet?text=《20岁，开始与别人拉开距离》笔记 - http://blog.segmac.com/blog/20.html', null, 'width=600,height=300,toolbar=0,status=0')" class="twitter" title="分享到Twitter"></a>
      </span>
    </p>
  
</header>


  <div class="entry-content typo"><p><a href="http://book.douban.com/subject/6073215/">http://book.douban.com/subject/6073215/</a></p>

<p>人生要抢占先机，在尝试和挑战中去发现自己的理想职业。要明白：有时候只需要稍微努力一下，情况就可能完全逆转。当前的种种状况必不能代表之后的状况，考入重点高中并不代表可以考入重点大学，考入重点大学并不代表能够成就一番事业，反之亦然，不要沉溺于当前的状态，将曾经的“辉煌”与“失败”统统归零。</p>

<p>成为攀登型的人，仅仅是简单地希望能够拿到工作offer之类的并不能算是明确的目标，需要进一步明确这样的目标，例如想要在什么地点工作，想要什么样的职位等等，不要让目标中的许多成分成为偶然。如果在最开始并不能够实现自己的目标，那么也要对当下的工作认真对待，将自己的本职工作做好，同时也不要忘记自己最初的梦想，当然在工作中也可能对梦想的目标进行修正，可能你已经发现了更适合你自己发展的目标。记住：在做好现有工作的同时，尝试攀登各种各样不同的山峰，最终找到真正属于自己的目标。不尝试就不会有新的发现。</p>

<p>任何工作都有其有趣的一面，如果能一边享受乐趣一边熟练的工作，并且相信它能够和自己喜欢的工作联系起来，不停地迎接挑战就可以了。</p>

<p>“工作就是赌上一辈子的生命，探索自己的可能性的过程。” ——安藤忠雄</p>

<p>“如果说我现在很成功，那就是以过去的失败作为基础的。工作的过程就是不断失败的过程。” ——本田宗一郎</p>

<p>“在十次尝试中，九次都会是失败的。” ——柳井正</p>

<p>首先要用于尝试；其次，为自己找一个竞争的对象；最后，明确自己在为谁工作。</p>

<p>不要在组织中树敌，要明白人脉对于自身发展的重要性。你的引路人就是公司的前辈，在组织中树敌必会得不偿失。</p>

<p>“缘，道，勤动笔，勤走动”，“勤问，平等，防患于未然”，你的未来，就是在与人的不断磨合中打造出来的。</p>

<p>打造自己的武器，向外界展示自己的“卖点”，机会便能如潮般地涌向你。</p>

<p>“三分理论”——不管身处怎样的组织，只要能够跻身到组织中的前30%，遭到淘汰的可能性就很小。</p>

<p>向能者学习，形成自己的风格，模仿也是必要的，没有任何基础，想要突然凭空创造出新的东西是很难的。踏踏实实向那些有能力的人学习，再在这个基础上发挥自己的创造力。</p>

<p>让周围的人看到你的努力，默默的努力是远远不够的，有必要向周围人展示的是，自己努力的姿态以及通过这种努力所取得的成果。在这样一个快节奏的时代，几乎没有人会有闲情逸致去很好地理解甚至理会你在背后默默付出的努力，只有你向外界显露出来的能力才被真正认作是你具备的技能。</p>

<p>只有将自己的付出大方地向外界展示，才能提升自己的品牌和影响力，从此人生的好运也能时常光顾于你了。</p>

<p>工作不要全力以赴，给自己留两分余地。当你毫无保留地付出以后，就没有任何的积存和底牌可言了。</p>

<p>对待工作只需投入80%的精力，剩下20%的精力则分配在其他事情上，不要因为现在的工作而说抽不开手、没有时间。把一天中零碎的时间有效地利用起来，从而尽量减少你被工作所限制的时间。</p>

<p>确保能在一天当中，为自己提前预留一些时间。</p>

<p>提高工作效率。</p>

<p>为了成为受欢迎的人，要学会使用“拜托您了， 非常感谢， 对不起我先失陪了， 非常抱歉”等语言。人自身的才能，必定是通过社会环境、父母或者老师这样的第三者的影响而慢慢形成、培养出来的，并不是与生俱来的，可以说，无论是谁都不可能真正拥有完完全全原创与他自身的能力，因此，在20岁时应当掌握的武器之一便是一种能让你在这个社会顺利地生存下去，并且同构成社会的各类人妥善处理好各种关系的一种能力，即一种被人喜欢的、闪闪发光的能力。</p>

<p>正因为得到了社会和他人的恩惠，才会有属于你自己的影响力。</p>

<p>要懂得向周围的人表示谦虚。</p>

<p>为数年后自己的生活做一份人生规划。为将来设计看上去“不切实际”的梦想。</p>

<p>对待一件事，做好了60%的准备就开始行动。因为世事无常，存在变数，永远也不能做出100%的准备。</p>

<p>如果对信息的获取较为迟钝，这个人就会被社会所淘汰。现在这个时代，是一个相比学历更看重信息获取能力的时代，培养自己的信息灵敏度，善于从纷繁复杂的海量信息中有效地甄别对自己有利的那一部分信息，并且很好的抓住和善于利用这部分信息，才有可能获得成功。</p>

<p>不要将“工作”和“娱乐”明显区分开。休息时间也好，娱乐时间也好，对耳闻目睹的事物多留意，努力形成多思考，多发问的良好习惯。</p>

<p>一开始是人养成习惯，然后习惯才能成就人。不要完全处在“娱乐”的状态就是一种非常重要的习惯。</p>

<p>不要吝惜信息的分享，自己才能得到回报，你的好意必定会得到回报。</p>

<p>“只要付出了，你所付出的东西就会在稍后得到回报。或许你会觉得这听起来有些不可思议，但这就是社会的规律。”</p>

<p>——清水克彦</p>
</div>
  
  


    </article>
  
  
    <article>
      

<header>
  
    <h1 class="entry-title"><a href="/blog/kendie-xx.html">坑爹的XX</a></h1>
  
  
    <p class="meta">
      








  


<time datetime="2011-10-31T15:34:36+08:00" pubdate="pubdate" data-updated="true">2011-10-31 Mon</time>
      

<span class="tags">
  Tag:
  
    <a href='/blog/tags/sigh/'>sigh</a>
  
</span>

      <span class="share-to-weibo">
        <a href="javascript:void(0)" onclick="window.open('http://service.weibo.com/share/share.php?appkey=&amp;ralateUid=&amp;title=坑爹的XX - &amp;url=http://blog.segmac.com/blog/kendie-xx.html', null, 'width=615,height=505,toolbar=0,status=0')" class="sina-weibo" title="分享到新浪微博"></a>

        <a href="javascript:void(0)" onclick="window.open('http://share.v.t.qq.com/index.php?c=share&amp;a=index&amp;appkey=&amp;title=坑爹的XX - &amp;url=http://blog.segmac.com/blog/kendie-xx.html', null, 'width=700,height=680,toolbar=0,status=0')" class="tencent-weibo" title="分享到腾讯微博"></a>

        <a href="javascript:void(0)" onclick="window.open('https://twitter.com/intent/tweet?text=坑爹的XX - http://blog.segmac.com/blog/kendie-xx.html', null, 'width=600,height=300,toolbar=0,status=0')" class="twitter" title="分享到Twitter"></a>
      </span>
    </p>
  
</header>


  <div class="entry-content typo"><p>不知道是不是我太龊了，一天之内改两篇工程硕士学位论文真的大丈夫吗？注意这里的改不是批改，而是要修改其中的内容。说白了就是帮人写论文罢了，要是是我做过这论文里面的相关系统的设计也还可以理解，可是这根本就是我没去接触过的，看看学校给的这些整改意见吧。</p>

<blockquote><p>“论文毫无实质性内容，……系统实现部分根本看不出工作量，无关键代码，甚至无法知道系统设计的语言。”</p></blockquote>

<p>“正文篇幅不足；……设计内容不足，缺E-R图，流程图，无实现内容；”</p>

<p>这样的意见无非就是委婉的说：他X的这论文啥都没做就复制了几段百科也敢交上来？</p>

<p>但是没办法，导师就是把这样的事安排给了我，咱能说不做吗？不合适吧，毕竟是师长，还是得敬重，首先得从自己这边找问题，那就是我能力太缺失了，如此简单的事情在我看来竟然是如此的棘手。天上掉下来一百多页的论文，别人还说是什么内容也没有，那我得增加多少内容才算过关呢？一篇论文居然需要一个完全不相关的人去充实里面最主要的内容，至于你怎么看，反正我的X眼被亮瞎了。</p>

<p>一天时间我连熟悉它们要写的内容估计都够呛，但是没关系，这反正跟我也没啥关系，他不是皇帝我更不是太监，所以我不急，随便复制几段给他们拿去玩“大家来找茬”吧，还能怎么整，哈哈</p>
</div>
  
  


    </article>
  
  
    <article>
      

<header>
  
    <h1 class="entry-title"><a href="/blog/no-words.html">为什么总是缺少语言</a></h1>
  
  
    <p class="meta">
      








  


<time datetime="2011-10-30T14:48:53+08:00" pubdate="pubdate" data-updated="true">2011-10-30 Sun</time>
      

<span class="tags">
  Tag:
  
    <a href='/blog/tags/sigh/'>sigh</a>
  
</span>

      <span class="share-to-weibo">
        <a href="javascript:void(0)" onclick="window.open('http://service.weibo.com/share/share.php?appkey=&amp;ralateUid=&amp;title=为什么总是缺少语言 - &amp;url=http://blog.segmac.com/blog/no-words.html', null, 'width=615,height=505,toolbar=0,status=0')" class="sina-weibo" title="分享到新浪微博"></a>

        <a href="javascript:void(0)" onclick="window.open('http://share.v.t.qq.com/index.php?c=share&amp;a=index&amp;appkey=&amp;title=为什么总是缺少语言 - &amp;url=http://blog.segmac.com/blog/no-words.html', null, 'width=700,height=680,toolbar=0,status=0')" class="tencent-weibo" title="分享到腾讯微博"></a>

        <a href="javascript:void(0)" onclick="window.open('https://twitter.com/intent/tweet?text=为什么总是缺少语言 - http://blog.segmac.com/blog/no-words.html', null, 'width=600,height=300,toolbar=0,status=0')" class="twitter" title="分享到Twitter"></a>
      </span>
    </p>
  
</header>


  <div class="entry-content typo"><p>很多时候，感觉自己想要说点什么，但是却一个字也吐不出来。看着对方一行一行的字出现，更是觉得越来越大的压力，以至于更加不知道说什么好了。</p>

<p>不能怨别人，肤浅的人总是缺少语言，对一件事缺少感情，自然也不会对它产生多少的理解，更不用说对其侃侃而谈了。</p>

<p>想起以前语文考试都要写的八百字作文，现在觉得真是能凑齐字数都是困难，过了这么多年，却是越来越退化了，一直以来都不怎么喜欢阅读，觉得都是别人写的一些与自己无关的话罢了，因此自从上了大学之后，没有了向高中那样的硬性要求，反而是阅读得更少了，要写什么东西，首先想到的是到网络上搜集一些别人的材料，然后照着别人的模式来写，根本就少有加入自身的思考，久而久之这些能力也就弱化了吧。本来就不强的东西，现在倒是更加弱化了，真不知道是该叹气还是该哭。</p>

<p>看文章总不愿看超过2页的习惯，导致这些年来最喜欢看的就是些短文，笑话幽默什么的，这样的话什么《读者》啊《青年文摘》呀应该比较适合我吧？错了，就连这上面的文章70%我都觉得太长了，更不用说看什么小说了。我想正是因为这个原因，导致了我总是感觉缺少语言吧，现在得去在这方面加强一点努力了，不然总是会误了很多事的。</p>
</div>
  
  


    </article>
  
  
    <article>
      

<header>
  
    <h1 class="entry-title"><a href="/blog/i-can-not-wake-up.html">I Can Not Wake Up</a></h1>
  
  
    <p class="meta">
      








  


<time datetime="2011-10-27T16:02:47+08:00" pubdate="pubdate" data-updated="true">2011-10-27 Thu</time>
      

<span class="tags">
  Tag:
  
    <a href='/blog/tags/life/'>Life</a>
  
</span>

      <span class="share-to-weibo">
        <a href="javascript:void(0)" onclick="window.open('http://service.weibo.com/share/share.php?appkey=&amp;ralateUid=&amp;title=I Can Not Wake Up - &amp;url=http://blog.segmac.com/blog/i-can-not-wake-up.html', null, 'width=615,height=505,toolbar=0,status=0')" class="sina-weibo" title="分享到新浪微博"></a>

        <a href="javascript:void(0)" onclick="window.open('http://share.v.t.qq.com/index.php?c=share&amp;a=index&amp;appkey=&amp;title=I Can Not Wake Up - &amp;url=http://blog.segmac.com/blog/i-can-not-wake-up.html', null, 'width=700,height=680,toolbar=0,status=0')" class="tencent-weibo" title="分享到腾讯微博"></a>

        <a href="javascript:void(0)" onclick="window.open('https://twitter.com/intent/tweet?text=I Can Not Wake Up - http://blog.segmac.com/blog/i-can-not-wake-up.html', null, 'width=600,height=300,toolbar=0,status=0')" class="twitter" title="分享到Twitter"></a>
      </span>
    </p>
  
</header>


  <div class="entry-content typo"><p>是意志不够坚定吗？但是我确实感觉太累了，感觉即使我能逃离这张床，也必定会在某个地方趴着睡着。</p>

<p>唉 谁能教会我深度睡眠就好了~我觉得以前的我就是这样的，感觉每天睡四到六个小时就足够了，第二天一样精神满满，现在怎么就不行了呢。是环境变了吗，还是我自己变了。</p>

<p>不过我知道我是个很难改变的人，缺点一大堆，但总是改不了，总是让人生气让人不爽，但是自己却总是不能改变，改变也仅仅是在口头上说说，在形式上改变，而实际上却还是在骨头里保留着原来的想法。</p>

<blockquote><p>只想做自己喜欢的事，这样的决定当然无可厚非。但是在现实中，为了做自己喜欢的事情，必须做很多不那么喜欢的事情，如果对于这一点能欣然接收的话就好了。</p></blockquote>

<p>确实，如果你想要得到一个东西或者去做一件事，那么你不能够期望毫无代价的去达到你的目的，世界不是为你一个人而准备的，你必须要学会付出，你才能得到你想要的东西，完成你想要做成的事情。</p>

<blockquote><p>如果真的喜欢的话，就不会觉得辛苦了。如果害怕辛苦而不愿付出努力，那只能说，不是真正的喜欢这件事。</p></blockquote>

<p>对于一件事我是否真的打心底里觉得喜欢呢？或许这才是关键的问题，可能自己对于喜欢的概念都弄错了，因为没有发现自己真正喜欢的，所以觉得自己喜欢的就是现在的这个样子。</p>

<p>人生应该怎样度过？工作、积累财产、提升教养、满足爱好、建立家庭和保持身体健康，我要在对待这几点的观点上做出一些改变，认真对待他们。</p>
</div>
  
  


    </article>
  
  
    <article>
      

<header>
  
    <h1 class="entry-title"><a href="/blog/sleep-late.html">晚睡强迫症</a></h1>
  
  
    <p class="meta">
      








  


<time datetime="2011-10-26T01:48:22+08:00" pubdate="pubdate" data-updated="true">2011-10-26 Wed</time>
      

<span class="tags">
  Tag:
  
    <a href='/blog/tags/life/'>Life</a>
  
</span>

      <span class="share-to-weibo">
        <a href="javascript:void(0)" onclick="window.open('http://service.weibo.com/share/share.php?appkey=&amp;ralateUid=&amp;title=晚睡强迫症 - &amp;url=http://blog.segmac.com/blog/sleep-late.html', null, 'width=615,height=505,toolbar=0,status=0')" class="sina-weibo" title="分享到新浪微博"></a>

        <a href="javascript:void(0)" onclick="window.open('http://share.v.t.qq.com/index.php?c=share&amp;a=index&amp;appkey=&amp;title=晚睡强迫症 - &amp;url=http://blog.segmac.com/blog/sleep-late.html', null, 'width=700,height=680,toolbar=0,status=0')" class="tencent-weibo" title="分享到腾讯微博"></a>

        <a href="javascript:void(0)" onclick="window.open('https://twitter.com/intent/tweet?text=晚睡强迫症 - http://blog.segmac.com/blog/sleep-late.html', null, 'width=600,height=300,toolbar=0,status=0')" class="twitter" title="分享到Twitter"></a>
      </span>
    </p>
  
</header>


  <div class="entry-content typo"><p>为什么夜深了却越是睡不着呢··七八点的时候倒是会有点打瞌睡。
那时候又不敢睡~怕晚上突然醒了就悲剧了，最痛苦的事情还是是失眠呀。</p>

<p>最近感觉自己越来越SB了，经常不知道自己在做什么，发现别人都很聪明~懂得多吐槽又厉害还能够精辟的分析历史和时事。</p>

<p>寝室总有几只蚊子在嗡嗡的飞，偶尔拍死两个却总也灭绝不了，躺在床上过几分钟黑暗中就有蚊子飞过来，真是要气死爹啊。
电脑的破硬盘的声音感觉大得出奇，这渣质量估计过两天就又得坏了~就是因为它都搞得我有点神经过敏了，总是感觉有什么东西在响，
声音不是很大但是就是能听见，还是持续不断的那种，特别烦，今天中午睡午觉的时候把电脑待机，我居然能听见和待机灯闪烁频率一样的电源里的电流声，真是要了个命了哦，中途不得不下去把电脑关掉，瞬间感觉清净了，睡了几分钟好觉。
不过今天又被导师叫去找学校盖一个合同的章，这样的事真是让我无力啊~感觉除了浪费时间之外就是浪费A4纸了，没办法还是得去跑，但是学校的那些老师行踪总是不确定，总是不能保证在确定的地方能找到他，平时不觉得，一要找了就找不到了，明天还得去。</p>

<p>不过最近发现豆瓣FM是个不错的东西，界面简洁，功能独特，总是能跳出一些很好听的歌，就是白天经常会很卡，听都听不起，网上说可能是电信dns的原因，也不知道怎么整~各种浏览器都试了，桌面版的也下下来试了，统统都不行唉~真是没有一件事让我舒心的。</p>

<p>还是睡觉吧，睡个好觉。</p>
</div>
  
  


    </article>
  
  
    <article>
      

<header>
  
    <h1 class="entry-title"><a href="/blog/android-google-weather-api.html">Android Google Weather API调用示例</a></h1>
  
  
    <p class="meta">
      








  


<time datetime="2011-10-22T00:27:47+08:00" pubdate="pubdate" data-updated="true">2011-10-22 Sat</time>
      

<span class="tags">
  Tag:
  
    <a href='/blog/tags/android/'>Android</a>
  
</span>

      <span class="share-to-weibo">
        <a href="javascript:void(0)" onclick="window.open('http://service.weibo.com/share/share.php?appkey=&amp;ralateUid=&amp;title=Android Google Weather API调用示例 - &amp;url=http://blog.segmac.com/blog/android-google-weather-api.html', null, 'width=615,height=505,toolbar=0,status=0')" class="sina-weibo" title="分享到新浪微博"></a>

        <a href="javascript:void(0)" onclick="window.open('http://share.v.t.qq.com/index.php?c=share&amp;a=index&amp;appkey=&amp;title=Android Google Weather API调用示例 - &amp;url=http://blog.segmac.com/blog/android-google-weather-api.html', null, 'width=700,height=680,toolbar=0,status=0')" class="tencent-weibo" title="分享到腾讯微博"></a>

        <a href="javascript:void(0)" onclick="window.open('https://twitter.com/intent/tweet?text=Android Google Weather API调用示例 - http://blog.segmac.com/blog/android-google-weather-api.html', null, 'width=600,height=300,toolbar=0,status=0')" class="twitter" title="分享到Twitter"></a>
      </span>
    </p>
  
</header>


  <div class="entry-content typo"><p>该示例简单地对Google Weather API进行了调用并解析了返回的xml数据，然后展示到Activity。
Demo截图：
[fgallery id=2 w=480 h=480 t=0 title=&#8221;weatherapp&#8221;]
Android Project结构：
<a href="http://l4love.org/wp-content/uploads/2011/10/project-hierarchy.png"><img src="http://l4love.org/wp-content/uploads/2011/10/project-hierarchy.png" alt="" /></a>
天气信息抽象数据类型WeatherInfo.java：
[java]package com.honson.weatherapp;</p>

<p>public class WeatherInfo {</p>

<pre><code>String city_name;
String update_time;

String condition;
String temp_f;
String temp_c;
String humidity;
String icon;
String wind_condition;

String day_of_week;
String temp_low_f;
String temp_high_f;

public String getUpdate_time() {
    return update_time;
}

public void setUpdate_time(String update_time) {
    this.update_time = update_time;
}

public String getDay_of_week() {
    return day_of_week;
}

public void setDay_of_week(String day_of_week) {
    this.day_of_week = day_of_week;
}

public String getTemp_low_f() {
    return temp_low_f;
}

public void setTemp_low_f(String temp_low_f) {
    this.temp_low_f = temp_low_f;
}

public String getTemp_high_f() {
    return temp_high_f;
}

public void setTemp_high_f(String temp_high_f) {
    this.temp_high_f = temp_high_f;
}

public void setCity_name(String attribute) {
    city_name = attribute;
}

public void setCondition(String attribute) {
    condition = attribute;
}

public void setTemp_f(String attribute) {
    temp_f = attribute;
}

public void setTemp_c(String attribute) {
    temp_c = attribute;
}

public void setHumidity(String attribute) {
    humidity = attribute;       
}

public void setIconPath(String attribute) {
    icon = attribute;       
}

public void setWind_condition(String attribute) {
    wind_condition = attribute;     
}

public String getCity_name() {
    return city_name;
}

public String getCondition() {
    return condition;
}

public String getTemp_f() {
    return temp_f;
}

public String getHumidity() {
    return humidity;
}

public String getTemp_c() {
    return temp_c;
}

public String getWind_condition() {
    return wind_condition;
}

public String getIconPath() {
    return icon;
}
</code></pre>

<p>}
[/java]
xml文档解析类DomXMLReader.java：
[java]package com.honson.weatherapp;</p>

<p>import java.io.InputStream;
import java.util.ArrayList;
import java.util.List;</p>

<p>import javax.xml.parsers.DocumentBuilder;
import javax.xml.parsers.DocumentBuilderFactory;</p>

<p>import org.w3c.dom.Document;
import org.w3c.dom.Element;
import org.w3c.dom.Node;
import org.w3c.dom.NodeList;</p>

<p>public class DomXMLReader {</p>

<pre><code>public static List&lt;WeatherInfo&gt; readXML(InputStream inStream) {
    List&lt;WeatherInfo&gt; weatherReportList = new ArrayList&lt;WeatherInfo&gt;();
    DocumentBuilderFactory factory = DocumentBuilderFactory.newInstance();
    try {
        DocumentBuilder builder = factory.newDocumentBuilder();
        Document dom = builder.parse(inStream);
        Element root = dom.getDocumentElement();
        NodeList items = root.getElementsByTagName("current_conditions");//查找所有CurrentCondition节点
        for (int i = 0; i &lt; items.getLength(); i++) {
            WeatherInfo currentCondition = new WeatherInfo();
            //得到第一个CurrentCondition节点
            Element currentNode = (Element) items.item(i);
            //获取所有子节点
            NodeList childsNodes = currentNode.getChildNodes();
            for (int j = 0; j &lt; childsNodes.getLength(); j++) {
                Node node = (Node) childsNodes.item(j);
                //判断是否为元素类型
                if(node.getNodeType() == Node.ELEMENT_NODE){
                    Element childNode = (Element) node;
                    //判断是否condition元素
                    if ("condition".equals(childNode.getNodeName())) {
                        //获取condition节点的data属性值
                        currentCondition.setCondition(childNode.getAttribute("data"));
                    } else if ("temp_f".equals(childNode.getNodeName())) {
                        //获取temp_f节点的data属性值
                        currentCondition.setTemp_f(childNode.getAttribute("data"));
                    } else if ("temp_c".equals(childNode.getNodeName())) {
                        //获取temp_c节点的data属性值
                        currentCondition.setTemp_c(childNode.getAttribute("data"));
                    } else if ("humidity".equals(childNode.getNodeName())) {
                        //获取humidity节点的data属性值
                        currentCondition.setHumidity(childNode.getAttribute("data"));
                    } else if ("icon".equals(childNode.getNodeName())) {
                        //获取iconPath节点的data属性值
                        currentCondition.setIconPath(childNode.getAttribute("data"));
                    } else if ("wind_condition".equals(childNode.getNodeName())) {
                        //获取wind_condition节点的data属性值
                        currentCondition.setWind_condition(childNode.getAttribute("data"));
                    }
                }
            }
            weatherReportList.add(currentCondition);
        }
        items = root.getElementsByTagName("forecast_information");//查找所有forecast_information节点
        for (int i = 0; i &lt; items.getLength(); i++) {
            WeatherInfo forecastInformation = new WeatherInfo();
            //得到一个forecastInformation节点
            Element currentNode = (Element) items.item(i);
            //获取所有子节点
            NodeList childsNodes = currentNode.getChildNodes();
            for (int j = 0; j &lt; childsNodes.getLength(); j++) {
                Node node = (Node) childsNodes.item(j);
                //判断是否为元素类型
                if(node.getNodeType() == Node.ELEMENT_NODE){
                    Element childNode = (Element) node;
                    //判断是否city元素
                    if ("city".equals(childNode.getNodeName())) {
                        //获取city节点的data属性值
                        forecastInformation.setCity_name(childNode.getAttribute("data"));
                    } else if ("current_date_time".equals(childNode.getNodeName())) {
                        //获取current_date_time节点的data属性值
                        forecastInformation.setUpdate_time(childNode.getAttribute("data"));
                    } 
                }
            }
            weatherReportList.add(forecastInformation);
        }
        items = root.getElementsByTagName("forecast_conditions");//查找所有forecast_conditions节点
        for (int i = 0; i &lt; items.getLength(); i++) {
            WeatherInfo forecastCondition = new WeatherInfo();
            //得到第一个forecastCondition节点
            Element currentNode = (Element) items.item(i);
            //获取所有子节点
            NodeList childsNodes = currentNode.getChildNodes();
            for (int j = 0; j &lt; childsNodes.getLength(); j++) {
                Node node = (Node) childsNodes.item(j);
                //判断是否为元素类型
                if(node.getNodeType() == Node.ELEMENT_NODE){
                    Element childNode = (Element) node;
                    //判断是否condition元素
                    if ("condition".equals(childNode.getNodeName())) {
                        //获取condition节点的data属性值
                        forecastCondition.setCondition(childNode.getAttribute("data"));
                    } else if ("day_of_week".equals(childNode.getNodeName())) {
                        //获取day_of_week节点的data属性值
                        forecastCondition.setDay_of_week(childNode.getAttribute("data"));
                    } else if ("low".equals(childNode.getNodeName())) {
                        //获取low节点的data属性值
                        forecastCondition.setTemp_low_f(childNode.getAttribute("data"));
                    } else if ("high".equals(childNode.getNodeName())) {
                        //获取high节点的data属性值
                        forecastCondition.setTemp_high_f(childNode.getAttribute("data"));
                    } else if ("icon".equals(childNode.getNodeName())) {
                        //获取iconPath节点的data属性值
                        forecastCondition.setIconPath(childNode.getAttribute("data"));
                    } 
                }
            }
            weatherReportList.add(forecastCondition);
        }
        inStream.close();
    } catch (Exception e) {
        e.printStackTrace();
    }
    return weatherReportList;
}
</code></pre>

<p>}
[/java]
Activity代码WeatherAppActivity.java：
[java]package com.honson.weatherapp;</p>

<p>import java.io.ByteArrayInputStream;
import java.io.IOException;
import java.io.InputStream;
import java.net.HttpURLConnection;
import java.net.MalformedURLException;
import java.net.URL;
import java.util.ArrayList;
import java.util.List;
import java.util.Timer;
import java.util.TimerTask;</p>

<p>import org.apache.http.HttpEntity;
import org.apache.http.HttpResponse;
import org.apache.http.HttpStatus;
import org.apache.http.client.HttpClient;
import org.apache.http.client.methods.HttpGet;
import org.apache.http.impl.client.DefaultHttpClient;
import org.apache.http.protocol.BasicHttpContext;
import org.apache.http.protocol.HttpContext;
import org.apache.http.util.EntityUtils;</p>

<p>import android.app.Activity;
import android.content.pm.ActivityInfo;
import android.content.res.Configuration;
import android.graphics.Bitmap;
import android.graphics.BitmapFactory;
import android.os.AsyncTask;
import android.os.Bundle;
import android.os.Handler;
import android.text.InputType;
import android.util.Log;
import android.view.View;
import android.view.View.OnClickListener;
import android.view.inputmethod.InputMethodManager;
import android.widget.Button;
import android.widget.EditText;
import android.widget.ImageView;
import android.widget.TextView;
import android.widget.Toast;</p>

<p>public class WeatherAppActivity extends Activity implements OnClickListener {</p>

<pre><code>private static final String GOOGLE_API_URL = "http://www.google.com/ig/api?weather=";        
private static final String NETWORK_ERROR = "Zip code not found.\nPlease check the zip code.\nE.g.:10010 --&gt; New York\n94043 --&gt; Mountain View";
private static final String TAG = "WeatherReport";        
private EditText editText;
private Button button;
private TextView tvWeatherInfo, tvWeatherInfo01, tvWeatherInfo02, tvWeatherInfo03, tvWeatherInfo04; // Display weather information
private TextView time, time01, time02, time03, time04;
private ImageView icon, icon01, icon02, icon03, icon04;
private List&lt;String&gt; times = new ArrayList&lt;String&gt;();
private List&lt;Bitmap&gt; bms = new ArrayList&lt;Bitmap&gt;();
private Handler mHandler;
@Override
public void onCreate(Bundle savedInstanceState) {
    Log.v(TAG, "onCreate()");
    super.onCreate(savedInstanceState);
    setContentView(R.layout.main);
    mHandler = new Handler();
    findView();
    button.setOnClickListener(this);
    Timer timer = new Timer();
    timer.schedule(new TimerTask() {
        @Override
        public void run() {
            hideInputMethodView();//隐藏掉可能的已存在的软键盘
            requestInputMethodView();
        }
    }, 1000);  //在一秒后打开(等待View绘制完成才能打开软键盘)
}

private void findView(){
    editText = (EditText) findViewById(R.id.editText);
    button = (Button) findViewById(R.id.goQuery);
    icon = (ImageView) findViewById(R.id.icon);
    time = (TextView) findViewById(R.id.time);
    tvWeatherInfo = (TextView) findViewById(R.id.tvWeatherInfo);
    icon01 = (ImageView) findViewById(R.id.icon01);
    time01 = (TextView) findViewById(R.id.time01);
    tvWeatherInfo01 = (TextView) findViewById(R.id.tvWeatherInfo01);
    icon02 = (ImageView) findViewById(R.id.icon02);
    time02 = (TextView) findViewById(R.id.time02);
    tvWeatherInfo02 = (TextView) findViewById(R.id.tvWeatherInfo02);
    icon03 = (ImageView) findViewById(R.id.icon03);
    time03 = (TextView) findViewById(R.id.time03);
    tvWeatherInfo03 = (TextView) findViewById(R.id.tvWeatherInfo03);
    icon04 = (ImageView) findViewById(R.id.icon04);
    time04 = (TextView) findViewById(R.id.time04);
    tvWeatherInfo04 = (TextView) findViewById(R.id.tvWeatherInfo04);
}

private void resetView(){
    icon.setImageDrawable(null);
    time.setText(null);
    tvWeatherInfo.setText(null);
    icon01.setImageDrawable(null);
    time01.setText(null);
    tvWeatherInfo01.setText(null);
    icon02.setImageDrawable(null);
    time02.setText(null);
    tvWeatherInfo02.setText(null);
    icon03.setImageDrawable(null);
    time03.setText(null);
    tvWeatherInfo03.setText(null);
    icon04.setImageDrawable(null);
    time04.setText(null);
    tvWeatherInfo04.setText(null);
}

@Override
protected void onResume() {
    Log.v(TAG, "onResume()");
    super.onResume();
}

public void onClick(View v) {
    //获得用户输入的城市名称
    String city = editText.getText().toString();
    // 必须每次都重新创建一个新的task实例进行查询，否则将提示如下异常信息
    // the task has already been executed (a task can be executed only once)
    city = city.replace(" ", "%20");
    Log.v(TAG, city);
    new GetWeatherTask().execute(city);
    resetView();
    //把天气信息显示出来
    tvWeatherInfo.setText("Pending...");
    hideInputMethodView();
    //setTitle(weather);
}

@Override
public void onConfigurationChanged(Configuration newConfig) {
    Log.v(TAG, "onConfigurationChange()");
    Log.v(TAG, newConfig.orientation + "");
    hideInputMethodView();
    // 当屏幕布局模式变为portrait时
    if(newConfig.orientation == ActivityInfo.SCREEN_ORIENTATION_PORTRAIT)
    {
        editText.setText(null);
        editText.setHint(R.string.hint_string_portrait);
        editText.setInputType(InputType.TYPE_CLASS_PHONE);
        //icon.setImageDrawable(null);
        //tvWeatherInfo.setText(R.string.indicate_string_portrait);
        requestInputMethodView();
    }
    // 当屏幕布局模式变为landscape时
    if(newConfig.orientation == ActivityInfo.SCREEN_ORIENTATION_USER)
    {
        editText.setText(null);
        editText.setHint(R.string.hint_string_landscape);
        editText.setInputType(InputType.TYPE_CLASS_TEXT);
        //icon.setImageDrawable(null);
        //tvWeatherInfo.setText(R.string.indicate_string_landscape);
        requestInputMethodView();
    }
    super.onConfigurationChanged(newConfig);
}

/**
 * 该方法用于在需要的时候弹出软键盘
 */
private void requestInputMethodView() {
    Log.v(TAG, "requestInputMethodView()");
    mHandler.post(new Runnable() {

        public void run() {
            Log.v(TAG, "InputMethodManager imm");
            InputMethodManager imm = (InputMethodManager) WeatherAppActivity.this.getBaseContext().getSystemService(INPUT_METHOD_SERVICE);
            imm.showSoftInput(editText, InputMethodManager.SHOW_FORCED);
            if(WeatherAppActivity.this.getResources().getConfiguration().orientation == ActivityInfo.SCREEN_ORIENTATION_PORTRAIT){
                Toast.makeText(WeatherAppActivity.this, R.string.indicate_string_portrait, Toast.LENGTH_SHORT).show();
            }else{
                Toast.makeText(WeatherAppActivity.this, R.string.indicate_string_landscape, Toast.LENGTH_SHORT).show();
            }

        }
    });
}

private void hideInputMethodView() {
    InputMethodManager imm = (InputMethodManager) this.getBaseContext().getSystemService(INPUT_METHOD_SERVICE);
    imm.hideSoftInputFromWindow(editText.getWindowToken(), 0);
}

/**
 * 从Google Weather API获取数据
 * @param city 城市名称或邮政编码
 * @return 天气数据信息
 */
public List&lt;String&gt; getWeatherByCity(String city) {
    HttpClient httpClient = new DefaultHttpClient();
    HttpContext localContext = new BasicHttpContext();
    HttpGet httpGet = new HttpGet(GOOGLE_API_URL + city);
    Log.v(TAG, GOOGLE_API_URL + city);
    try {HttpResponse response = httpClient.execute(httpGet, localContext);
        if (response.getStatusLine().getStatusCode() != HttpStatus.SC_OK) {
            Log.e(TAG, "Failed. status code is not ok.");
            httpGet.abort();
        } 
        else { 
            // Get weather information successful
            // Reset charset
            HttpEntity httpEntity = response.getEntity();
            String string = EntityUtils.toString(httpEntity, "utf-8").trim();
            InputStream is = new ByteArrayInputStream(string.getBytes("utf-8"));
            return parseWeather(is);
        }
    } catch (Exception e) {
        Log.e(TAG, "Failed to get weather", e);
    } finally {
        httpClient.getConnectionManager().shutdown();
    }
    List&lt;String&gt; error = new ArrayList&lt;String&gt;();
    error.add(NETWORK_ERROR);
    return error;
}

/**
 * 解析xml得出天气数据
 * @param is 由Google Weather API返回的输入流
 * @return 天气数据
 * @throws IOException
 */
public List&lt;String&gt; parseWeather(InputStream is) throws IOException { 
    List&lt;WeatherInfo&gt; list = DomXMLReader.readXML(is);
    List&lt;String&gt; weatherInfos = new ArrayList&lt;String&gt;();
    WeatherInfo weather_report = list.get(0);
    if(weather_report.getIconPath().endsWith(".gif"));{
        try
        {
            bms.add(getNetBitmap("http://www.google.com" + weather_report.getIconPath()));

        }
        catch (Exception e)
        {
            Log.e(TAG, "IOException");
        }
    }
    times.add("Now");
    String without_city_name_and_time = "Condition: " + new String(weather_report.getCondition().getBytes(), "utf-8") + ", "
         + "Temp_f: " + weather_report.getTemp_f() + "℉\n"
         //+ "Temp_c: " + weather_report.getTemp_c() + "℃\n"
         + weather_report.getHumidity() + ", "
</code></pre>

<p>//             + current.getIconPath() + &#8220;\n&#8221;</p>

<pre><code>         + weather_report.getWind_condition();
    weather_report = list.get(1);
    String city_name_and_time = "City: " + new String(weather_report.getCity_name().getBytes(), "utf-8") + "\n"
         //+ "Update Time: " + weather_report.getUpdate_time() + "\n"
         ;
    weatherInfos.add(city_name_and_time + without_city_name_and_time);
    for(int i = 2; i &lt;= 5; i++){
         weather_report = list.get(i);
         times.add(weather_report.getDay_of_week());
         if(weather_report.getIconPath().endsWith(".gif"));{
            try
            {
                bms.add(getNetBitmap("http://www.google.com" + weather_report.getIconPath()));

            }
            catch (Exception e)
            {
                Log.e(TAG, "IOException");
            }
         }
         String forecastCondition = "Condition: " + new String(weather_report.getCondition().getBytes(), "utf-8") + "\n"
                 + "Temp_low_f: " + weather_report.getTemp_low_f() + "℉\n"
                 + "Temp_high_f: " + weather_report.getTemp_high_f() + "F\n";
         weatherInfos.add(forecastCondition);
    }
    return weatherInfos;
}

/**
 * 获取天气图片
 * @param url 图片url
 * @return
 */
private Bitmap getNetBitmap(String url){
    URL imageUrl = null;
    Bitmap bitmap = null;
    try {
        imageUrl = new URL(url);
    }
    catch (MalformedURLException e){
        Log.e(TAG, e.getMessage());
    }
    try {
        HttpURLConnection conn = (HttpURLConnection)imageUrl.openConnection();
        conn.setDoInput(true);
        conn.connect();
        InputStream is = conn.getInputStream();
        bitmap = BitmapFactory.decodeStream(is);
        is.close();
    } catch (IOException e){
        Log.e(TAG, "IOException");
    }
    return bitmap;
}

/**
 * 采用异步任务更新显示
 * @author honson
 *
 */
class GetWeatherTask extends AsyncTask&lt;String, Integer, List&lt;String&gt;&gt; {

    @Override
    protected List&lt;String&gt; doInBackground(String... params) {
        String city = params[0];

        // 调用Google天气API查询指定城市的当日天气情况
        return getWeatherByCity(city);
    }

    protected void onPostExecute(List&lt;String&gt; result) {
        if(result.size() == 1){
            if(WeatherAppActivity.this.getResources().getConfiguration().orientation == ActivityInfo.SCREEN_ORIENTATION_PORTRAIT){
                resetView();
                tvWeatherInfo.setText(result.get(0));
            }
            return;
        }
        if(result.size() != 5 || times.size() != 5 || bms.size() !=5 || times == null) {
            //tvWeatherInfo.setText(result.get(0));
            return;
        }
        // 把doInBackground处理的结果即天气信息显示到界面
        tvWeatherInfo.setText(result.get(0));
        time.setText(times.get(0));
        icon.setImageBitmap(bms.get(0));
        tvWeatherInfo01.setText(result.get(1));
        time01.setText(times.get(1));
        icon01.setImageBitmap(bms.get(1));
        tvWeatherInfo02.setText(result.get(2));
        time02.setText(times.get(2));
        icon02.setImageBitmap(bms.get(2));
        tvWeatherInfo03.setText(result.get(3));
        time03.setText(times.get(3));
        icon03.setImageBitmap(bms.get(3));
        tvWeatherInfo04.setText(result.get(4));
        time04.setText(times.get(4));
        icon04.setImageBitmap(bms.get(4));
        bms.clear();
        times.clear();
    }
}
</code></pre>

<p>}[/java]</p>
</div>
  
  


    </article>
  
  
    <article>
      

<header>
  
    <h1 class="entry-title"><a href="/blog/android-sqlitedemo.html">Android SQLiteDemo</a></h1>
  
  
    <p class="meta">
      








  


<time datetime="2011-10-20T10:51:17+08:00" pubdate="pubdate" data-updated="true">2011-10-20 Thu</time>
      

<span class="tags">
  Tag:
  
    <a href='/blog/tags/android/'>Android</a>
  
</span>

      <span class="share-to-weibo">
        <a href="javascript:void(0)" onclick="window.open('http://service.weibo.com/share/share.php?appkey=&amp;ralateUid=&amp;title=Android SQLiteDemo - &amp;url=http://blog.segmac.com/blog/android-sqlitedemo.html', null, 'width=615,height=505,toolbar=0,status=0')" class="sina-weibo" title="分享到新浪微博"></a>

        <a href="javascript:void(0)" onclick="window.open('http://share.v.t.qq.com/index.php?c=share&amp;a=index&amp;appkey=&amp;title=Android SQLiteDemo - &amp;url=http://blog.segmac.com/blog/android-sqlitedemo.html', null, 'width=700,height=680,toolbar=0,status=0')" class="tencent-weibo" title="分享到腾讯微博"></a>

        <a href="javascript:void(0)" onclick="window.open('https://twitter.com/intent/tweet?text=Android SQLiteDemo - http://blog.segmac.com/blog/android-sqlitedemo.html', null, 'width=600,height=300,toolbar=0,status=0')" class="twitter" title="分享到Twitter"></a>
      </span>
    </p>
  
</header>


  <div class="entry-content typo"><p>该Demo简单说明了SQLite的使用方法，包括常见的增删改查操作。
Demo截图：
[fgallery id=1 w=320 h=480 t=0 title=&#8221;sqlite&#8221;]
Android Project结构：
<a href="http://l4love.org/wp-content/uploads/2011/10/project.png"><img src="http://l4love.org/wp-content/uploads/2011/10/project.png" alt="" /></a></p>

<p>数据库操作辅助类（DBHelper.java），该类封装了对SQLite数据的操作，包括了创建表，删除表，增删改查数据等方法：
[java]package com.android.SqliteDemo;</p>

<p>import android.content.ContentValues;
import android.content.Context;
import android.database.Cursor;
import android.database.sqlite.SQLiteDatabase;
import android.database.sqlite.SQLiteOpenHelper;
import android.database.sqlite.SQLiteDatabase.CursorFactory;
import android.util.Log;</p>

<p>public class DBHelper extends SQLiteOpenHelper {</p>

<pre><code>Context context;//应用环境上下文  
private static SQLiteDatabase db;//该辅助类维护的数据库对象
public String table_name = "files";//数据库表名
private static final String TAG = "duanhong";// 调试标签 
private String name;//数据库名
public DBHelper(Context context, String name, CursorFactory factory,
        int version) {
    super(context, name, factory, version);
    this.context = context;
    this.name = name;
    db = context.openOrCreateDatabase(name, Context.MODE_PRIVATE,null);
    drop_table();//清除数据库，便于测试
    CreateTable();//辅助类建立时运行该方法建立数据库
}
@Override
public void onCreate(SQLiteDatabase db) {

} 
public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {
}

public void CreateTable() {   
    try {//使用execSQL方法执行sql语句完成数据库表创建   
        db.execSQL("CREATE TABLE IF NOT EXISTS " + table_name + "(" +   
                "_id INTEGER PRIMARY KEY AUTOINCREMENT  NOT NULL,"  
                + "fileName VARCHAR, description VARCHAR"    
                + ");");   
        Log.v(TAG, "Create Table files ok");   
    } catch (Exception e) {   
        Log.v(TAG, e.toString());   
    }   
}

//初始化表，使用SQLiteDatabase提供的insert方法插入一行数据
public void initDatabase(){
    ContentValues cv = new ContentValues();//数据集，表示一行数据
    cv.put("fileName", "Test");
    cv.put("description", "初始化测试项");
    db.insert(table_name, "", cv);
}

/**
 * @param filename 欲插入条目的名称
 * @param description 欲插入条目的描述
 * @return 条目是否插入成功
 */
public boolean insert(String filename, String description){   
    String sql="";   
    try{   
        db = context.openOrCreateDatabase(name, Context.MODE_PRIVATE,null); //打开数据库供后续操作使用  
        sql="insert into files values(null,'"+ filename + "','" + description +"')";   
        db.execSQL(sql);   
        Log.v(TAG,"insert Table files ok");   
        return true;   

    }catch(Exception e){   
        Log.v(TAG,"insert Table files err ,sql: "+sql);   
        return false;   
    }   
}   
/**
 * @param fileid 欲删除的条目id
 * @return 条目是否删除成功
 */
public boolean delete(int fileid){
    String sql="";
    try{   
        db = context.openOrCreateDatabase(name, Context.MODE_PRIVATE,null);   
        sql="delete from files where _id=" + fileid;   
        db.execSQL(sql);   
        Log.v(TAG,"delete item ok");   
        return true;   

    }catch(Exception e){   
        Log.v(TAG,"delete item err ,sql: "+sql);   
        return false;   
    }
}
/**
 * @param fileid 欲修改的条目id
 * @param filename 欲修改条目名称的目标内容
 * @param description 欲修改条目的目标描述
 * @return 条目是否修改成功
 */
public boolean update(int fileid, String filename, String description){
    String sql="";   
    try{   
        db = context.openOrCreateDatabase(name, Context.MODE_PRIVATE,null);   
        sql="update files set fileName='" + filename + "',description='" + description +"' where _id=" + fileid;   
        db.execSQL(sql);   
        Log.v(TAG,"update Table files ok");   
        return true;   

    }catch(Exception e){   
        Log.v(TAG,"update Table files err ,sql: "+sql);   
        return false;   
    }
}

/**
 * @param fileid 欲查询的条目id
 * @return 欲查询条目的Cursor，使用该Cursor可得到条目各属性内容
 */
public Cursor select(int fileid){
    String sql="_id=" + fileid;
    db = context.openOrCreateDatabase(name, Context.MODE_PRIVATE,null);   
    Cursor cur=db.query(table_name, new String[]{"_id","fileName","description"}, sql, null, null, null, null);   
    return cur; 
}

public Cursor loadAll(){//返回可得到数据库所有表项的Cursor   
    db = context.openOrCreateDatabase(name, Context.MODE_PRIVATE,null);   
    Cursor cur=db.query(table_name, new String[]{"_id","fileName","description"}, null, null, null, null, null);   
    return cur;   
}   

public void drop_table(){//删除表
    String sql="";   
    try{   
        db = context.openOrCreateDatabase(name, Context.MODE_PRIVATE,null);   
        sql="drop table " + table_name;   
        db.execSQL(sql);   
        Log.v(TAG,"drop Table files ok");   
    }catch(Exception e){   
        Log.v(TAG,"drop Table files err ,sql: "+sql);     
    }
}

public void close(){  //关闭数据库 
    db.close();   
}
</code></pre>

<p>}[/java]</p>

<p>Activity代码（SQLiteDemoActivity.java）：
[java]package com.android.SqliteDemo;</p>

<p>import android.app.Activity;
import android.os.Bundle;
import android.database.Cursor;
import android.view.View;
import android.view.View.OnClickListener;
import android.widget.*;</p>

<p>public class SqliteDemoActivity extends Activity {</p>

<pre><code>public String db_name = "sqlite_test";//数据库名
Button add;
Button delete;
Button modify;
Button query;
EditText filename;
EditText description;
EditText fileid;
TextView answer;
ListView items;
DBHelper helper;
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.main);
    add = (Button)findViewById(R.id.add);//获得UI控件
    delete = (Button)findViewById(R.id.delete);
    modify = (Button)findViewById(R.id.modify);
    query = (Button)findViewById(R.id.query);
    fileid = (EditText)findViewById(R.id.fileid);
    filename = (EditText)findViewById(R.id.filename);
    description = (EditText)findViewById(R.id.description);
    answer = (TextView)findViewById(R.id.answer);
    items = (ListView)findViewById(R.id.items);
    //实例化辅助类，在辅助类中实现数据库创建并提供增删改查操作的接口
    helper = new DBHelper(this,db_name,null,2);
    helper.initDatabase();//初始化数据
    refresh();//刷新数据库内容显示
    //定义按钮点击监听器
    OnClickListener ocl = new OnClickListener(){
        public void onClick(View v) {
            int id;
            switch(v.getId()){
            case R.id.add:
                //添加条目，使用helper的insert方法，由于id是自增的，只需提供名称及描述
                helper.insert(filename.getText().toString(), description.getText().toString());
                refresh();
                break;
            case R.id.delete:
                //删除条目，从编辑框中获取欲删除的条目id
                try {//若输入id格式错误，给出提示信息
                    id = Integer.parseInt(fileid.getText().toString());
                }catch (NumberFormatException e) {
                    answer.setText("请输入纯数字的id号");
                    break;
                }
                helper.delete(id);
                refresh();
                break;
            case R.id.modify:
                //更新条目，从id编辑框中获知欲更新的条目
                try {
                    id = Integer.parseInt(fileid.getText().toString());
                }catch (NumberFormatException e) {
                    answer.setText("请输入纯数字的id号");
                    break;
                }
                helper.update(id, filename.getText().toString(), description.getText().toString());
                refresh();
                break;
            //使用id查询数据
            case R.id.query:
                try {
                    id = Integer.parseInt(fileid.getText().toString());
                }catch (NumberFormatException e) {
                    answer.setText("请输入纯数字的id号");
                    break;
                }
                Cursor cur = helper.select(id);
                cur.moveToFirst();
                filename.setText(cur.getString(1));
                description.setText(cur.getString(2));
                break;
            }
        }
    };
    //按钮绑定监听器
    add.setOnClickListener(ocl);
    delete.setOnClickListener(ocl);
    modify.setOnClickListener(ocl);
    query.setOnClickListener(ocl);
}

//刷新数据库内容显示
public void refresh(){
    Cursor cur = helper.loadAll();
    //将cursor对象交给系统管理，使cursor与Activity生命周期同步
    startManagingCursor(cur);
    ListAdapter la = new SimpleCursorAdapter(this,R.layout.list_item,cur,new String[]{"_id", "fileName", "description"},new int[]{R.id.item_fileid, R.id.item_filename, R.id.item_description});
    items.setAdapter(la);
    items.setChoiceMode(ListView.CHOICE_MODE_MULTIPLE);
    helper.close();
}
//由于仅用于测试，故在程序被销毁时删除表中数据
public void onDestroy(){
    super.onDestroy();
    helper.drop_table();
}
</code></pre>

<p>}[/java]
每一行的布局：list_item.xml
[xml]&lt;?xml version=&#8221;1.0&#8221; encoding=&#8221;utf-8&#8221;?>
&lt;LinearLayout android:id=&#8221;@+id/linearLayout1&#8221;</p>

<pre><code>android:layout_width="fill_parent" 
android:layout_height="fill_parent"
android:orientation="vertical" 
xmlns:android="http://schemas.android.com/apk/res/android"&gt;
&lt;LinearLayout android:id="@+id/linearLayout2" 
    android:layout_width="wrap_content" 
    android:layout_height="wrap_content"
    android:orientation="horizontal"&gt;
&lt;!-- &lt;CheckBox android:id="@+id/chkTodo"
    android:layout_width="40dip" 
    android:layout_height="40dip"/&gt; --&gt;
&lt;TextView android:id="@+id/item_fileid" 
    android:layout_width="fill_parent" 
    android:layout_height="wrap_content"
    android:layout_weight="1"
    android:textSize="20dip"&gt;&lt;/TextView&gt;
&lt;TextView android:id="@+id/item_filename" 
    android:layout_width="fill_parent" 
    android:layout_marginLeft="20dip"
    android:layout_marginRight="20dip"
    android:layout_height="wrap_content"
    android:layout_weight="1"
    android:textSize="20dip"&gt;&lt;/TextView&gt;
&lt;TextView android:id="@+id/item_description" 
    android:layout_width="fill_parent" 
    android:layout_height="wrap_content"
    android:layout_weight="1"
    android:textSize="20dip"&gt;&lt;/TextView&gt;
&lt;/LinearLayout&gt;
</code></pre>

<p></LinearLayout>[/xml]
布局文件：main.xml
[xml]&lt;?xml version=&#8221;1.0&#8221; encoding=&#8221;utf-8&#8221;?>
&lt;LinearLayout xmlns:android=&#8221;http://schemas.android.com/apk/res/android&#8221;</p>

<pre><code>android:orientation="vertical" android:layout_width="fill_parent"
android:layout_height="fill_parent"&gt;
&lt;TextView android:layout_width="fill_parent" android:background="#222222" android:textSize="20dip"
    android:layout_height="wrap_content" android:text="SQLite基本操作演示" /&gt;
&lt;TableLayout android:id="@+id/tableLayout1" android:layout_height="wrap_content" android:layout_width="match_parent"&gt;
    &lt;TableRow android:layout_width="fill_parent" android:layout_height="wrap_content"&gt;
        &lt;TextView android:text="ID" android:textSize="20dip" android:layout_width="fill_parent" android:layout_weight="1"/&gt;
        &lt;TextView android:text="条目名称" android:textSize="20dip" android:layout_width="fill_parent" android:layout_weight="1"/&gt;
        &lt;TextView android:text="条目描述" android:textSize="20dip" android:layout_width="fill_parent" android:layout_weight="1"/&gt;
    &lt;/TableRow&gt;
    &lt;TableRow android:layout_width="fill_parent" android:layout_height="wrap_content"&gt;
        &lt;EditText android:id="@+id/fileid" android:layout_width="fill_parent" android:layout_weight="1"/&gt;
        &lt;EditText android:id="@+id/filename" android:layout_width="fill_parent" android:layout_weight="1"/&gt;
        &lt;EditText android:id="@+id/description" android:layout_width="fill_parent" android:layout_weight="1"/&gt;
    &lt;/TableRow&gt;
&lt;/TableLayout&gt;
&lt;LinearLayout android:orientation="horizontal"
    android:layout_width="fill_parent" android:layout_height="wrap_content"&gt;
    &lt;Button android:text="增加记录" android:id="@+id/add"
        android:layout_weight="1" android:layout_width="match_parent"
        android:layout_height="wrap_content" android:textSize="20dip"
        android:layout_marginTop="5dip"&gt;&lt;/Button&gt;
    &lt;Button android:text="删除记录" android:id="@+id/delete"
        android:layout_weight="1" android:layout_width="match_parent"
        android:layout_height="wrap_content" android:textSize="20dip"
        android:layout_marginTop="5dip"&gt;&lt;/Button&gt;
&lt;/LinearLayout&gt;
&lt;LinearLayout android:orientation="horizontal"
    android:layout_width="fill_parent" android:layout_height="wrap_content"&gt;
    &lt;Button android:text="修改记录" android:id="@+id/modify"
        android:layout_weight="1" android:layout_width="wrap_content"
        android:layout_height="wrap_content" android:textSize="20dip"
        android:layout_marginTop="5dip"&gt;&lt;/Button&gt;
    &lt;Button android:text="查询记录" android:id="@+id/query"
        android:layout_weight="1" android:layout_width="wrap_content"
        android:layout_height="wrap_content" android:textSize="20dip"
        android:layout_marginTop="5dip"&gt;&lt;/Button&gt;
&lt;/LinearLayout&gt;
&lt;TextView android:layout_width="fill_parent"
    android:text="数据库内容（ID|名称|描述）" android:background="#222222"
    android:layout_height="wrap_content" android:textSize="20dip"
    android:layout_marginTop="5dip"&gt;&lt;/TextView&gt;
&lt;ListView android:id="@+id/items" android:layout_width="match_parent" 
    android:layout_height="wrap_content"&gt;&lt;/ListView&gt;
&lt;TextView android:id="@+id/answer" android:layout_width="wrap_content"
    android:layout_height="wrap_content" android:textSize="20dip"
    android:layout_marginTop="5dip"&gt;&lt;/TextView&gt;
</code></pre>

<p></LinearLayout>[/xml]</p>
</div>
  
  


    </article>
  
  
    <article>
      

<header>
  
    <h1 class="entry-title"><a href="/blog/i-need-something-special.html">I Need Something Special.</a></h1>
  
  
    <p class="meta">
      








  


<time datetime="2011-10-19T23:51:56+08:00" pubdate="pubdate" data-updated="true">2011-10-19 Wed</time>
      

      <span class="share-to-weibo">
        <a href="javascript:void(0)" onclick="window.open('http://service.weibo.com/share/share.php?appkey=&amp;ralateUid=&amp;title=I Need Something Special. - &amp;url=http://blog.segmac.com/blog/i-need-something-special.html', null, 'width=615,height=505,toolbar=0,status=0')" class="sina-weibo" title="分享到新浪微博"></a>

        <a href="javascript:void(0)" onclick="window.open('http://share.v.t.qq.com/index.php?c=share&amp;a=index&amp;appkey=&amp;title=I Need Something Special. - &amp;url=http://blog.segmac.com/blog/i-need-something-special.html', null, 'width=700,height=680,toolbar=0,status=0')" class="tencent-weibo" title="分享到腾讯微博"></a>

        <a href="javascript:void(0)" onclick="window.open('https://twitter.com/intent/tweet?text=I Need Something Special. - http://blog.segmac.com/blog/i-need-something-special.html', null, 'width=600,height=300,toolbar=0,status=0')" class="twitter" title="分享到Twitter"></a>
      </span>
    </p>
  
</header>


  <div class="entry-content typo"><p>我需要改变。</p>

<p>我需要做一些特别的事情。</p>
</div>
  
  


    </article>
  

  
  <!-- Pagination -->
  <section class="pagination clearfix">
    
    <a class="next float-r" href="/">Newer &rarr;</a>
  </section>
  
</section>


<footer class="footer">
  &copy;2012 弘
  &nbsp;-&nbsp;
  Powered by <a href="http://octopress.org" target="_blank">Octopress</a>
</footer>


<ul id="social-links">
  
  
  
  
</ul>

<script src="/javascripts/application.js"></script>


<iframe src="/offline-cache.html" style="display:none"></iframe>
</body>
</html>