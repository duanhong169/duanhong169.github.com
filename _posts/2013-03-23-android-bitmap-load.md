Title: 在Android中高效地显示图片
Date: 2013-03-24 23:50
Slug: load-android-bitmap
Published: false

图片资源是移动应用中较耗内存的部分，同时也是最常用的资源之一。对于涉及大量图片的应用、尤其是图片资源需要通过网络连接获取的应用，需要达到如下一些基本要求:

-  防止内存过度消耗（`java.lang.OutofMemoryError`）导致程序崩溃
-  防止由耗时操作引起的界面卡顿，使得应用程序界面在加载图片的同时保持流畅
-  通过对图片进行缓存减少网络流量的使用，同时提高图片加载效率

这里结合代码来说明如何使得应用程序满足上述要求，代码可以从[这里](http://developer.android.com/shareables/training/BitmapFun.zip)得到。

###合理地使用内存
采用普通方法同时在应用程序中加载大量图片，就容易造成内存溢出。这很容易理解，目前一般的手机摄像头拍摄的照片分辨率能够达到500万像素以上，按每个像素4字节（RGBA各需要1字节）计算，显示一张图片就需要5\*4=20兆字节的内存，对于列表视图（`ListView`）、网格视图（`GridView`）以及实现多页面滚动效果的`ViewPager`，需要同时对大量图片进行处理，使用直接加载图片的方式需要使用大量的内存。
